\documentclass{article}

\usepackage {preamble}

\begin{document}

\author{}
\title{Сортировка подсчётом. Различные реализации}
\date{}
\maketitle

\section{Общие сведения. Асимптотика}
Сортировка подсчётом "--- алгоритм сортировки целых чисел в некотором заданном диапазоне. Асимптотика сортировки подсчётом составляет $O(n + k)$, где $n$ "--- количество элементов, а $k$ "--- размер диапазона. В отличие от большинства алгоритмов сортировки, сортировка подсчётом не основана на сравнениях элементов, что и позволяет достичь линейной асимптотики (при использовании сравнений невозможно достичь асимптотики, лучшей чем $O(n \cdots log n)$).

\section{Алгоритм}
\begin{enumerate}
	\item Найдём границы диапазона чисел, содержащихся в массиве $a$ (минимальный и максимальный элементы).
	\item Создадим массив частот размера $max(a) - min(a) + 1$.
	\item Обработаем все числа массива $a$, для каждого числа сделаем прибавление в массиве частот по индексу, соответствующему значению элемента, уменьшенному на минимум (так минимум будет сопоставлен $0$, это позволяет обрабатывать в том числе отрицательные числа).
	\item Заведём счётчик, указывающий на текущий индекс элемента.
	\item Пройдёмся по всем числам от $0$ до $max(a) - min(a)$. Во внутреннем цикле, выполняющемся такое количество раз, которое записано в массиве частот для текущего числа, присвоим текущему элементу $a$ значение данного числа, увеличенного на минимум (так мы вернёмся к исходным значениям массива). Инкрементируем текущий индекс для массива $a$.
\end{enumerate}

\section{Анализ асимптотики всех шагов алгоритма}
\begin{enumerate}
	\item Поиск максимума и минимума "--- $O(n)$
	\item Создание массива частот "--- $O(k)$
	\item Заполнение массива частот "--- $O(n)$
	\item Основной внешний цикл "--- $O(k)$
	\item Внутренний цикл "--- $O(n)$ суммарно.
\end{enumerate}
Итого асимптотика алгоритма составляет $O(n + k)$.

\section{Простейшая реализация (только для неотрицательных чисел)}
Эта реализация сортировки подсчётом применяется только для неотрицательных чисел, её асимптотика составляет $O(n + max(a))$.
\inputminted{cpp}{./counting_sort_positive.cpp}

\section{Реализация для любых целых чисел, в т.ч. отрицательных}
Эта реализация сортировки подсчётом может применяться для массива, состоящего как из положительных, так и из отрицательных чисел, в ней все числа нормализуются так, что минимум сопоставляется $0$, а остальные числа уменьшаются на значение минимума. Помимо работы с отрицательными числами такая сортировка также позволяет обрабатывать даже очень большие числа, если сам их диапазон невелик. Асимптотика такой реализации составляет $O(n + k)$, где $k = max(a) - min(a)$.
\inputminted{cpp}{./counting_sort_universal.cpp}

\end{document}
